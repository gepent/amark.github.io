#### 1 如何同步各个机房的数据库以及缓存？比如你在北京的时候修改了微信签名，在深圳的机器上如何同步？

#### 2 用命令统计日志中访问量最多的前100个IP地址

#### 3 给一个列表计算列表中连续元素和最大的值

#### 4如何用redis实现消息队列

#### 5 散列冲突的解决方案

#### 6 mysql索引相关：联合索引怎么建、聚簇索引、普通索引

#### 7 redis如何实现持久化
1 持久化目的：防止因为机器故障导致的数据丢失

2 持久化过程：

    客户端向服务端发起写命令；
    服务端接受客户端请求，执行写命令将数据写入内存；
    服务端调用 write() 系统调用将内存中的数据写入内存缓冲区；
    调用 fsync() 将内核缓冲区的数据写入磁盘控制器的缓存中；
    磁盘控制器将缓存中的数据写入磁盘的物理介质上；


对于redis服务实现者来说，要实现这个持久化的功能，只能通过调用操作系统的功能来完成对底层存储硬件的访问，
所以实现者能控制的有前四个步骤，因此持久化就是要保证前四步顺利进行，其中3 4步都是要进行CPU上下文切换的，
对服务的性能要求很高，因此为了平衡安全性与性能，在实现持久化的时候需要做取舍。

3 两种方案：

- RDB持久化


- AOF持久化


#### 8 redis的hash数据结构的实现原理

#### 9 redis有哪些数据结构，主要应用场景
- String 类型：
> 应用场景：对象缓存、锁、计数器、web集群session共享

- Hash类型：
> 应用场景：对象缓存、电商购物车，
    优点：
        1 同类数据归类整合存储，方便数据管理
        2 相比String 操作消耗内存与cpu更小
    缺点：
        过期功能只能设置到key

- List类型：
> 应用场景：
    实现队列：Queue = LPUSH + RPOP
    实现栈：Stack = LPUSH + LPOP
    阻塞队列：Blocking mq = LPUSH + BRPOP

- Set类型：
> 应用场景：
    智能推荐系统，将用户感兴趣的分类放到一个集合，然后为每一个分类维护一个物品集合，可以迅速找到某一用户感兴趣的分类对应的所有物品
    共同好友

- ZSet有序集合：
> 应用场景：
    类似于附近的商家推荐，附近搭车之类的，根据地理位置排序


#### 10 RabbitMQ 如何保证消息不丢失？
春节期间，交易量激增，导致消息队列频繁丢消息，下面mq高可用架构就是面对这种情况的一种补偿机制
![avatar](https://pic.pospre.com/pic/mq_redis.jpg)

#### 11 如何判断链表有环？

#### 12 redis与memcached的区别，以及各自的应用场景

#### 13 非阻塞与异步的区别

#### 14 反转一个链表


```python
def reverselist(head):
    cur, prev = head, None
    while cur:
        cur.next, prev, cur = prev, cur, cur.next
    return prev
```
#### 15 IP 规则
